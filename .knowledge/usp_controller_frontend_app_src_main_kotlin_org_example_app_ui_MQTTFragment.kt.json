{"is_source_file": true, "format": "Kotlin", "description": "This file defines a Fragment class MQTTFragment for an Android app, which provides a user interface for controlling and monitoring MQTT connections and messaging. It includes UI setup, event handlers for MQTT actions, and an inner ViewModel class MqttVM for managing MQTT connection state and logs.", "external_files": ["R (animation/resources layout strings) from org.example.app", "ConfigStore from org.example.app.data", "MqttManager from org.example.app.net.mqtt", "LogEntry from org.example.app.util", "fragment_mqtt layout resource"], "external_methods": ["ViewModelProvider.get", "ConfigStore.load", "Snackbar.make", "getString", "requireContext", "requireActivity", "requireView", "setOnClickListener", "observe", "submitList"], "published": ["MQTTFragment"], "classes": [{"name": "MQTTFragment", "description": "A Fragment providing MQTT control UI and logs for an Android app, integrating connection management and message publishing/subscription."}], "methods": [{"name": "onCreateView", "description": "Inflates the fragment layout from R.layout.fragment_mqtt."}, {"name": "onViewCreated", "description": "Initializes UI components, sets up event handlers for MQTT actions, and observes ViewModel LiveData for UI updates."}, {"name": "initIfNeeded", "description": "In the ViewModel, initializes the MqttManager if it has not been initialized yet."}, {"name": "onCleared", "description": "Handles cleanup of the ViewModel by disconnecting the MQTT manager when the ViewModel is cleared."}], "calls": ["androidx.fragment.app.Fragment.onCreateView", "androidx.fragment.app.Fragment.onViewCreated", "ViewModelProvider.get", "ConfigStore.load", "Snackbar.make", "getString", "requireContext", "requireActivity", "view.findViewById", "LinearLayoutManager", "LogsAdapter()", "observe", "setOnClickListener", "vm.manager.connect", "vm.manager.disconnect", "vm.manager.subscribe", "vm.manager.unsubscribe", "vm.manager.publish", "super.onResume", "VM.initIfNeeded", "VM.disconnect"], "search-terms": ["MQTT", "LogEntry", "MqttManager", "Fragment UI", "Android MQTT UI", "mqtt_control", "ui_mqtt"], "state": 2, "file_id": 24, "knowledge_revision": 84, "git_revision": "21ef6424fc4e46fe2e285f1be41595bc5c46888b", "revision_history": [{"49": ""}, {"57": ""}, {"65": "da1d39dd690b5f2f65c0e865518e714915aa8220"}, {"84": "21ef6424fc4e46fe2e285f1be41595bc5c46888b"}], "hash": "fa3c4c6b80b376ebaf17f7ca40ec8678", "format-version": 4, "code-base-name": "usp_controller_frontend", "filename": "usp_controller_frontend/app/src/main/kotlin/org/example/app/ui/MQTTFragment.kt"}