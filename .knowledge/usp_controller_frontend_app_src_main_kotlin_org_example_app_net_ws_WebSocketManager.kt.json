{"is_source_file": true, "format": "Kotlin", "description": "This file defines a Kotlin class 'WebSocketManager' responsible for managing a WebSocket connection using OkHttp. It handles connecting, disconnecting, sending messages, and logging WebSocket events, exposing LiveData for connection state and logs for external observers.", "external_files": ["okhttp3.OkHttpClient", "okhttp3.Request", "okhttp3.WebSocket", "okhttp3.WebSocketListener", "okio.ByteString", "org.example.app.data.model.WsConfig", "org.example.app.util.LogEntry"], "external_methods": ["OkHttpClient.Builder().pingInterval()", "OkHttpClient.Builder().build()", "Request.Builder().url()", "Request.Builder().addHeader()", "OkHttpClient.newWebSocket()", "WebSocket.close()", "SimpleDateFormat().format()", "MutableLiveData.postValue()", "MutableLiveData.setValue()", "MutableLiveData.value", "LogEntry constructor"], "published": ["org.example.app.net.ws.WebSocketManager"], "classes": [{"name": "WebSocketManager", "description": "A class that manages a WebSocket connection, including connecting, disconnecting, sending messages, and logging events. Provides LiveData for connection status and logs."}], "methods": [{"name": "applyConfig", "description": "Applies the WebSocket configuration and logs the applied URL."}, {"name": "connect", "description": "Establishes a WebSocket connection if not already connected and if configuration is valid."}, {"name": "send", "description": "Sends a message over the WebSocket connection if connected."}, {"name": "disconnect", "description": "Closes the WebSocket connection and updates connection status."}, {"name": "log", "description": "Logs a message with a timestamp and level, updating the logs list."}], "calls": ["client.newWebSocket", "webSocket.close", "SimpleDateFormat.format", "LogEntry constructor", "MutableLiveData.postValue", "MutableLiveData.setValue"], "search-terms": ["WebSocket connection management Kotlin", "OkHttp WebSocket wrapper", "LiveData WebSocket status", "Logging WebSocket events", "configure WebSocket Kotlin"], "state": 2, "file_id": 20, "knowledge_revision": 41, "git_revision": "", "hash": "44284ae0e9695806dba0ee154166ccfa", "format-version": 4, "code-base-name": "usp_controller_frontend", "filename": "usp_controller_frontend/app/src/main/kotlin/org/example/app/net/ws/WebSocketManager.kt", "revision_history": [{"41": ""}]}